# auto-generated by grc.converter

id: fhss_utils_s_and_h_detector
label: Sample and Hold Detector
category: '[Sandia]/FHSS Utilities'

parameters:
-   id: freq_sample_delay_samps
    label: Freq S&H Delay
    dtype: raw
    default: '128'
    hide: none
-   id: freq_samps_to_avg
    label: Freq Avg Samples
    dtype: raw
    default: '128'
    hide: none
-   id: mag_samps_to_avg
    label: Mag Avg Samples
    dtype: raw
    default: '128'
    hide: none
-   id: thresh
    label: Threshold
    dtype: raw
    default: '0.005'
    hide: none

inputs:
-   label: mag
    domain: stream
    dtype: float
    vlen: 1
-   label: freq
    domain: stream
    dtype: float
    vlen: 1

outputs:
-   domain: stream
    dtype: float
    vlen: 1
-   label: inst_f
    domain: stream
    dtype: float
    vlen: 1
    optional: true
-   label: m_t
    domain: stream
    dtype: float
    vlen: 1
    optional: true
-   label: m_avg
    domain: stream
    dtype: float
    vlen: 1
    optional: true

templates:
    imports: import fhss_utils
    make: fhss_utils.s_and_h_detector(${freq_sample_delay_samps}, ${freq_samps_to_avg},
        ${mag_samps_to_avg}, ${thresh})
    callbacks:
    - set_freq_sample_delay_samps(${freq_sample_delay_samps})
    - set_freq_samps_to_avg(${freq_samps_to_avg})
    - set_mag_samps_to_avg(${mag_samps_to_avg})
    - set_thresh(${thresh})

file_format: 1
